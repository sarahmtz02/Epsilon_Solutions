<%- include('templates/sidebarMain.ejs') %>
<% if (rol == 3) { %>
    <%- include('templates/sidebarPanelLead.ejs') %>
<% } %>
<% if (rol == 2) { %>
    <%- include('templates/sidebarCLA.ejs') %>
<% } %>
<%- include('templates/sidebarEnd.ejs') %>

<link rel="stylesheet" href="/css/sidebar.css" />
<link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css" />
<link rel="stylesheet" href="/css/buttons.css" />
<link rel="stylesheet" href="/css/section.css" />


<div>
<section class="section-card">
    <% if (success != '') { %>
        <div class="alert alert-success" role="alert">
            <strong>Atención! </strong><%- success -%>
        </div>
    <%} %>
    <% if (warning != '') { %>
        <div class="alert alert-danger" role="alert">
            <strong>Atención! </strong><%- warning -%>
        </div>
    <%} %>
<h1 id="principal">Lista de Empleados</h1>
<hr class="db-hr">

<!-- EMPLEADOS -->
<a href="/nuevoEmpleado"><button type="button" class="btn-normal">Registrar un nuevo empleado</button></a>
<br>
<table class="table table-striped" class="centered">
    <thead>
        <tr>
            <th>Nombre</th>
            <th>Apellidos</th>
            <th>Correo Electrónico</th>
            <th>Equipo</th>
            <th>Nivel Overall</th>
        </tr>
    </thead>
    <tbody>
        <% for (let empleado of empleados) { %>
            <tr>
                <td><%- empleado.nombre -%></td>
                <td><%- empleado.apellidoP + ' ' + empleado.apellidoM -%></td>
                <td><%- empleado.email -%></td>
                <td><%- empleado.equipo -%></td>
                <td><%- empleado.nivOverall -%></td>
                <td><a href = "/id-empleado=<%-empleado.idEmpleado-%>" class = "btn-normal">Editar</a></td>
                    <td id="deleteUser"><a href="/bajaEmpleado=<%-empleado.idEmpleado-%>" type="button" class="btn-delete">Dar de baja</a></td>
            </tr>
        <%} %>
    </tbody>
</table>
<br><br>
<a href="#principal"><button type="button" class="btn-navigation">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z"/>
          </svg>
    Regresar Arriba</button></a>
</section>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script src="/bootstrap/js/bootstrap.min.js"></script>
<%- include('templates/footer.ejs') %>